EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Aquarium clock-driven LED dimmer"
Date "2020-10-07"
Rev "v1.1"
Comp "Martin Jakubik"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MCU_Module:Arduino_Nano_v3.x A1
U 1 1 5F7D8F27
P 3600 5350
F 0 "A1" H 3950 6300 50  0000 C CNN
F 1 "Arduino Nano" H 4000 4400 50  0000 C CNN
F 2 "Module:Arduino_Nano" H 3600 5350 50  0001 C CIN
F 3 "http://www.mouser.com/pdfdocs/Gravitech_Arduino_Nano3_0.pdf" H 3600 5350 50  0001 C CNN
	1    3600 5350
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR017
U 1 1 5F7DC330
P 3500 4250
F 0 "#PWR017" H 3500 4100 50  0001 C CNN
F 1 "+12V" H 3500 4400 50  0000 C CNN
F 2 "" H 3500 4250 50  0001 C CNN
F 3 "" H 3500 4250 50  0001 C CNN
	1    3500 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 4250 3500 4350
$Comp
L power:GND #PWR021
U 1 1 5F7E11E8
P 3600 6450
F 0 "#PWR021" H 3600 6200 50  0001 C CNN
F 1 "GND" H 3600 6300 50  0000 C CNN
F 2 "" H 3600 6450 50  0001 C CNN
F 3 "" H 3600 6450 50  0001 C CNN
	1    3600 6450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 6450 3600 6400
Wire Wire Line
	3600 6400 3700 6400
Wire Wire Line
	3700 6400 3700 6350
Connection ~ 3600 6400
Wire Wire Line
	3600 6400 3600 6350
$Comp
L Transistor_FET:IRLZ44N Q1
U 1 1 5F7E2568
P 10000 4650
F 0 "Q1" H 10200 4750 50  0000 L CNN
F 1 "IRLZ44N" H 10200 4550 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 10250 4575 50  0001 L CIN
F 3 "http://www.irf.com/product-info/datasheets/data/irlz44n.pdf" H 10000 4650 50  0001 L CNN
	1    10000 4650
	1    0    0    -1  
$EndComp
$Comp
L Connector:Barrel_Jack J1
U 1 1 5F7E5855
P 5450 1200
F 0 "J1" H 5450 1400 50  0000 C CNN
F 1 "DC Input" H 5450 1000 50  0000 C CNN
F 2 "Connector_BarrelJack:BarrelJack_Horizontal" H 5500 1160 50  0001 C CNN
F 3 "~" H 5500 1160 50  0001 C CNN
F 4 "12V, max 1.5A" H 5450 900 50  0000 C CIN "Comment"
	1    5450 1200
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_Push SW1
U 1 1 5F7EE74A
P 8550 1750
F 0 "SW1" H 8550 1950 50  0000 C CNN
F 1 "Interval reset" H 8550 1650 50  0000 C CNN
F 2 "Connector_JST:JST_XH_B2B-XH-A_1x02_P2.50mm_Vertical" H 8550 1950 50  0001 C CNN
F 3 "~" H 8550 1950 50  0001 C CNN
	1    8550 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:R_POT RV1
U 1 1 5F7EF3C5
P 7250 1650
F 0 "RV1" H 7150 1750 50  0000 R CNN
F 1 "Gradient time" H 7150 1550 50  0000 R CNN
F 2 "Connector_JST:JST_XH_B3B-XH-A_1x03_P2.50mm_Vertical" H 7250 1650 50  0001 C CNN
F 3 "~" H 7250 1650 50  0001 C CNN
	1    7250 1650
	1    0    0    -1  
$EndComp
$Comp
L Connector:Barrel_Jack J2
U 1 1 5F7EFA4B
P 10150 1300
F 0 "J2" H 10150 1500 50  0000 C CNN
F 1 "LED 1 Output" H 10150 1100 50  0000 C CNN
F 2 "Connector_BarrelJack:BarrelJack_Horizontal" H 10200 1260 50  0001 C CNN
F 3 "~" H 10200 1260 50  0001 C CNN
	1    10150 1300
	1    0    0    -1  
$EndComp
$Comp
L Connector:Barrel_Jack J3
U 1 1 5F7F0007
P 10150 2100
F 0 "J3" H 10150 2300 50  0000 C CNN
F 1 "LED 2 Output" H 10150 1900 50  0000 C CNN
F 2 "Connector_BarrelJack:BarrelJack_Horizontal" H 10200 2060 50  0001 C CNN
F 3 "~" H 10200 2060 50  0001 C CNN
	1    10150 2100
	1    0    0    -1  
$EndComp
NoConn ~ 3700 4350
$Comp
L power:+5V #PWR018
U 1 1 5F7DCC94
P 3800 4250
F 0 "#PWR018" H 3800 4100 50  0001 C CNN
F 1 "+5V" H 3800 4400 50  0000 C CNN
F 2 "" H 3800 4250 50  0001 C CNN
F 3 "" H 3800 4250 50  0001 C CNN
	1    3800 4250
	1    0    0    -1  
$EndComp
Wire Wire Line
	3800 4250 3800 4350
$Comp
L power:GND #PWR013
U 1 1 5F7DD4DD
P 3550 1150
F 0 "#PWR013" H 3550 900 50  0001 C CNN
F 1 "GND" H 3550 1000 50  0000 C CNN
F 2 "" H 3550 1150 50  0001 C CNN
F 3 "" H 3550 1150 50  0001 C CNN
	1    3550 1150
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR01
U 1 1 5F7DDF7F
P 3250 1050
F 0 "#PWR01" H 3250 900 50  0001 C CNN
F 1 "+5V" H 3250 1200 50  0000 C CNN
F 2 "" H 3250 1050 50  0001 C CNN
F 3 "" H 3250 1050 50  0001 C CNN
	1    3250 1050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR020
U 1 1 5F7E132C
P 9250 5250
F 0 "#PWR020" H 9250 5000 50  0001 C CNN
F 1 "GND" H 9300 5050 50  0000 C CNN
F 2 "" H 9250 5250 50  0001 C CNN
F 3 "" H 9250 5250 50  0001 C CNN
	1    9250 5250
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 5250 9250 5200
$Comp
L power:+12V #PWR016
U 1 1 5F7E1AF0
P 9250 4050
F 0 "#PWR016" H 9250 3900 50  0001 C CNN
F 1 "+12V" H 9250 4200 50  0000 C CNN
F 2 "" H 9250 4050 50  0001 C CNN
F 3 "" H 9250 4050 50  0001 C CNN
	1    9250 4050
	1    0    0    -1  
$EndComp
Wire Wire Line
	9250 4050 9250 4100
$Comp
L power:GND #PWR06
U 1 1 5F7E8F3A
P 6100 1350
F 0 "#PWR06" H 6100 1100 50  0001 C CNN
F 1 "GND" H 6100 1200 50  0000 C CNN
F 2 "" H 6100 1350 50  0001 C CNN
F 3 "" H 6100 1350 50  0001 C CNN
	1    6100 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 5F7EAC1B
P 1700 3650
F 0 "C1" H 1800 3700 50  0000 L CNN
F 1 "10u" H 1800 3600 50  0000 L CNN
F 2 "Capacitor_THT:C_Disc_D5.0mm_W2.5mm_P2.50mm" H 1738 3500 50  0001 C CNN
F 3 "~" H 1700 3650 50  0001 C CNN
	1    1700 3650
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR014
U 1 1 5F7EAE10
P 1700 3450
F 0 "#PWR014" H 1700 3300 50  0001 C CNN
F 1 "+12V" H 1700 3600 50  0000 C CNN
F 2 "" H 1700 3450 50  0001 C CNN
F 3 "" H 1700 3450 50  0001 C CNN
	1    1700 3450
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR015
U 1 1 5F7EB215
P 1700 3850
F 0 "#PWR015" H 1700 3600 50  0001 C CNN
F 1 "GND" H 1700 3700 50  0000 C CNN
F 2 "" H 1700 3850 50  0001 C CNN
F 3 "" H 1700 3850 50  0001 C CNN
	1    1700 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 3450 1700 3500
Wire Wire Line
	1700 3800 1700 3850
$Comp
L power:+5V #PWR07
U 1 1 5F7F70B7
P 7250 1450
F 0 "#PWR07" H 7250 1300 50  0001 C CNN
F 1 "+5V" H 7250 1600 50  0000 C CNN
F 2 "" H 7250 1450 50  0001 C CNN
F 3 "" H 7250 1450 50  0001 C CNN
	1    7250 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 1450 7250 1500
$Comp
L power:GND #PWR010
U 1 1 5F7F7ECA
P 7250 1850
F 0 "#PWR010" H 7250 1600 50  0001 C CNN
F 1 "GND" H 7250 1700 50  0000 C CNN
F 2 "" H 7250 1850 50  0001 C CNN
F 3 "" H 7250 1850 50  0001 C CNN
	1    7250 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 1850 7250 1800
Text GLabel 7400 1650 2    50   Input ~ 0
IN_GRAD
Text GLabel 9050 1750 2    50   Input ~ 0
IN_RESET
$Comp
L power:GND #PWR03
U 1 1 5F7FFC86
P 8200 1850
F 0 "#PWR03" H 8200 1600 50  0001 C CNN
F 1 "GND" H 8200 1700 50  0000 C CNN
F 2 "" H 8200 1850 50  0001 C CNN
F 3 "" H 8200 1850 50  0001 C CNN
	1    8200 1850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8350 1750 8200 1750
Wire Wire Line
	8200 1750 8200 1850
$Comp
L Device:R R1
U 1 1 5F800FD0
P 8900 1500
F 0 "R1" H 9000 1600 50  0000 L CNN
F 1 "100k" H 9000 1400 50  0000 L CNN
F 2 "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" V 8830 1500 50  0001 C CNN
F 3 "~" H 8900 1500 50  0001 C CNN
	1    8900 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR09
U 1 1 5F801B7E
P 8900 1300
F 0 "#PWR09" H 8900 1150 50  0001 C CNN
F 1 "+5V" H 8900 1450 50  0000 C CNN
F 2 "" H 8900 1300 50  0001 C CNN
F 3 "" H 8900 1300 50  0001 C CNN
	1    8900 1300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 1300 8900 1350
$Comp
L power:+12V #PWR02
U 1 1 5F803EBB
P 10500 1150
F 0 "#PWR02" H 10500 1000 50  0001 C CNN
F 1 "+12V" H 10550 1350 50  0000 C CNN
F 2 "" H 10500 1150 50  0001 C CNN
F 3 "" H 10500 1150 50  0001 C CNN
	1    10500 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	10500 1150 10500 1200
Wire Wire Line
	10500 1200 10450 1200
$Comp
L power:+12V #PWR012
U 1 1 5F804A68
P 10500 1950
F 0 "#PWR012" H 10500 1800 50  0001 C CNN
F 1 "+12V" H 10550 2150 50  0000 C CNN
F 2 "" H 10500 1950 50  0001 C CNN
F 3 "" H 10500 1950 50  0001 C CNN
	1    10500 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	10500 1950 10500 2000
Wire Wire Line
	10500 2000 10450 2000
Text GLabel 10450 1400 2    50   Input ~ 0
OUT_LED
Text GLabel 10450 2200 2    50   Input ~ 0
OUT_LED
Text GLabel 10100 4450 1    50   Input ~ 0
OUT_LED
$Comp
L power:GND #PWR019
U 1 1 5F806664
P 10100 4900
F 0 "#PWR019" H 10100 4650 50  0001 C CNN
F 1 "GND" H 10150 4700 50  0000 C CNN
F 2 "" H 10100 4900 50  0001 C CNN
F 3 "" H 10100 4900 50  0001 C CNN
	1    10100 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	10100 4900 10100 4850
Wire Wire Line
	9800 4650 9700 4650
Text GLabel 8950 4650 0    50   Input ~ 0
MOSFET
Wire Notes Line
	4900 470  4900 2700
Text Notes 4950 650  0    79   Italic 0
Connectors and inputs
Wire Notes Line
	6970 6540 6970 2700
Text Notes 7050 2900 0    79   Italic 0
MOSFET
$Comp
L Device:C C2
U 1 1 5F8210FD
P 1450 1850
F 0 "C2" H 1550 1900 50  0000 L CNN
F 1 "0.1u" H 1550 1800 50  0000 L CNN
F 2 "Capacitor_THT:C_Disc_D5.0mm_W2.5mm_P2.50mm" H 1488 1700 50  0001 C CNN
F 3 "~" H 1450 1850 50  0001 C CNN
	1    1450 1850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 5F821109
P 1450 2050
F 0 "#PWR08" H 1450 1800 50  0001 C CNN
F 1 "GND" H 1450 1900 50  0000 C CNN
F 2 "" H 1450 2050 50  0001 C CNN
F 3 "" H 1450 2050 50  0001 C CNN
	1    1450 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 1650 1450 1700
Wire Wire Line
	1450 2000 1450 2050
$Comp
L power:+5V #PWR04
U 1 1 5F823949
P 1450 1650
F 0 "#PWR04" H 1450 1500 50  0001 C CNN
F 1 "+5V" H 1450 1800 50  0000 C CNN
F 2 "" H 1450 1650 50  0001 C CNN
F 3 "" H 1450 1650 50  0001 C CNN
	1    1450 1650
	1    0    0    -1  
$EndComp
Text GLabel 3050 1150 1    50   Input ~ 0
SCL
Text GLabel 3150 1150 1    50   Input ~ 0
SDA
Wire Notes Line
	470  2700 11220 2700
Text Notes 550  650  0    79   Italic 0
RTC
Text Notes 550  2900 0    79   Italic 0
Arduino
Text GLabel 4100 5850 2    50   Input ~ 0
SCL
Text GLabel 4100 5750 2    50   Input ~ 0
SDA
Text GLabel 4100 5550 2    50   Input ~ 0
IN_GRAD
Text GLabel 3100 5050 0    50   Input ~ 0
IN_RESET
Text GLabel 3100 5850 0    50   Input ~ 0
MOSFET
$Comp
L Device:C C4
U 1 1 5F83748D
P 7600 4600
F 0 "C4" H 7700 4650 50  0000 L CNN
F 1 "10u" H 7700 4550 50  0000 L CNN
F 2 "Capacitor_THT:C_Disc_D5.0mm_W2.5mm_P2.50mm" H 7638 4450 50  0001 C CNN
F 3 "~" H 7600 4600 50  0001 C CNN
	1    7600 4600
	1    0    0    -1  
$EndComp
$Comp
L power:+12V #PWR022
U 1 1 5F837493
P 7600 4400
F 0 "#PWR022" H 7600 4250 50  0001 C CNN
F 1 "+12V" H 7600 4550 50  0000 C CNN
F 2 "" H 7600 4400 50  0001 C CNN
F 3 "" H 7600 4400 50  0001 C CNN
	1    7600 4400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR023
U 1 1 5F837499
P 7600 4800
F 0 "#PWR023" H 7600 4550 50  0001 C CNN
F 1 "GND" H 7600 4650 50  0000 C CNN
F 2 "" H 7600 4800 50  0001 C CNN
F 3 "" H 7600 4800 50  0001 C CNN
	1    7600 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 4400 7600 4450
Wire Wire Line
	7600 4750 7600 4800
NoConn ~ 4100 4750
NoConn ~ 4100 4850
NoConn ~ 4100 5150
NoConn ~ 4100 5350
NoConn ~ 4100 5450
NoConn ~ 4100 5650
NoConn ~ 4100 5950
NoConn ~ 4100 6050
NoConn ~ 3100 6050
NoConn ~ 3100 5950
NoConn ~ 3100 5750
NoConn ~ 3100 5650
NoConn ~ 3100 5550
NoConn ~ 3100 5450
NoConn ~ 3100 5350
NoConn ~ 3100 5250
NoConn ~ 3100 4850
NoConn ~ 3100 4750
Text GLabel 3100 5150 0    50   Input ~ 0
LED_ERROR
Text GLabel 3100 4950 0    50   Input ~ 0
INT
Text GLabel 2950 1150 1    50   Input ~ 0
INT
$Comp
L Device:R R2
U 1 1 5F8DB3E4
P 5500 3750
F 0 "R2" H 5600 3850 50  0000 L CNN
F 1 "1k" H 5600 3650 50  0000 L CNN
F 2 "Resistor_THT:R_Axial_DIN0207_L6.3mm_D2.5mm_P10.16mm_Horizontal" V 5430 3750 50  0001 C CNN
F 3 "~" H 5500 3750 50  0001 C CNN
	1    5500 3750
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D1
U 1 1 5F8DC9F3
P 5500 4150
F 0 "D1" V 5600 4050 50  0000 R CNN
F 1 "RED" V 5350 4050 50  0000 R CNN
F 2 "LED_THT:LED_D5.0mm" H 5500 4150 50  0001 C CNN
F 3 "~" H 5500 4150 50  0001 C CNN
	1    5500 4150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5500 4000 5500 3900
$Comp
L power:GND #PWR05
U 1 1 5F8DDDCC
P 5500 4400
F 0 "#PWR05" H 5500 4150 50  0001 C CNN
F 1 "GND" H 5500 4250 50  0000 C CNN
F 2 "" H 5500 4400 50  0001 C CNN
F 3 "" H 5500 4400 50  0001 C CNN
	1    5500 4400
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 4400 5500 4300
Text GLabel 5500 3550 1    50   Input ~ 0
LED_ERROR
Wire Wire Line
	5500 3550 5500 3600
Text Notes 2900 4900 2    50   ~ 0
Use INPUT_PULLUP in Arduino for D2
Wire Wire Line
	6100 1350 6100 1300
Wire Wire Line
	5750 1300 6100 1300
$Comp
L power:+12V #PWR011
U 1 1 5F96FCF7
P 6100 1050
F 0 "#PWR011" H 6100 900 50  0001 C CNN
F 1 "+12V" H 6150 1250 50  0000 C CNN
F 2 "" H 6100 1050 50  0001 C CNN
F 3 "" H 6100 1050 50  0001 C CNN
	1    6100 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	6100 1050 6100 1100
Wire Wire Line
	6100 1100 5750 1100
$Comp
L Device:C C3
U 1 1 5F972B26
P 1000 1850
F 0 "C3" H 1100 1900 50  0000 L CNN
F 1 "0.1u" H 1100 1800 50  0000 L CNN
F 2 "Capacitor_THT:C_Disc_D5.0mm_W2.5mm_P2.50mm" H 1038 1700 50  0001 C CNN
F 3 "~" H 1000 1850 50  0001 C CNN
	1    1000 1850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR025
U 1 1 5F972B2C
P 1000 2050
F 0 "#PWR025" H 1000 1800 50  0001 C CNN
F 1 "GND" H 1000 1900 50  0000 C CNN
F 2 "" H 1000 2050 50  0001 C CNN
F 3 "" H 1000 2050 50  0001 C CNN
	1    1000 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	1000 1650 1000 1700
Wire Wire Line
	1000 2000 1000 2050
$Comp
L power:+5V #PWR024
U 1 1 5F972B34
P 1000 1650
F 0 "#PWR024" H 1000 1500 50  0001 C CNN
F 1 "+5V" H 1000 1800 50  0000 C CNN
F 2 "" H 1000 1650 50  0001 C CNN
F 3 "" H 1000 1650 50  0001 C CNN
	1    1000 1650
	1    0    0    -1  
$EndComp
$Comp
L symbols:DS3231 U1
U 1 1 5F96F3F0
P 3100 1650
F 0 "U1" H 2750 950 50  0000 L CNN
F 1 "DS3231" H 3450 950 50  0000 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x06_P2.54mm_Vertical" H 3100 1650 50  0001 C CNN
F 3 "https://datasheets.maximintegrated.com/en/ds/DS3231.pdf" H 3100 1650 50  0001 C CNN
	1    3100 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 1150 3550 1050
Wire Wire Line
	3550 1050 3350 1050
Wire Wire Line
	3350 1050 3350 1150
Wire Wire Line
	3250 1050 3250 1150
NoConn ~ 2850 1150
Wire Wire Line
	9050 1750 8900 1750
Wire Wire Line
	8900 1650 8900 1750
Connection ~ 8900 1750
Wire Wire Line
	8900 1750 8750 1750
$Comp
L symbols:MIC4420BN U2
U 1 1 5F97E402
P 9300 4650
F 0 "U2" H 9100 5100 50  0000 R CNN
F 1 "MIC4420BN" H 9150 4200 50  0000 R CNN
F 2 "Package_DIP:DIP-8_W7.62mm_Socket" H 9300 3700 50  0001 C CNN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/MIC4420-29-6A-Peak-Low-Side-MOSFET-Driver-DS20006092A.pdf" H 9300 4650 50  0001 C CNN
	1    9300 4650
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 4750 9700 4750
Wire Wire Line
	9700 4750 9700 4650
Connection ~ 9700 4650
Wire Wire Line
	9700 4650 9650 4650
Wire Wire Line
	9250 5200 9350 5200
Wire Wire Line
	9350 5200 9350 5150
Connection ~ 9250 5200
Wire Wire Line
	9250 5200 9250 5150
Wire Wire Line
	9250 4100 9350 4100
Wire Wire Line
	9350 4100 9350 4150
Connection ~ 9250 4100
Wire Wire Line
	9250 4100 9250 4150
Text Label 9700 4750 3    50   ~ 0
MOSFET_OUT
$EndSCHEMATC
